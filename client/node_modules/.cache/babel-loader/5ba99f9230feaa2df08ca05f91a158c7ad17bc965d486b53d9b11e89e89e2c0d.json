{"ast":null,"code":"export default {\n  name: \"SplineChart\",\n  props: ['data'],\n  data: function () {\n    const categories = Array.from({\n      length: 12\n    }, (v, i) => `${i + 1}`);\n    const revenueByMonth = new Array(12).fill(0);\n    this.data.map(item => {\n      if (item._id && item.totalRevenue) {\n        revenueByMonth[item._id - 1] = item.totalRevenue / 1000000;\n      }\n    });\n    return {\n      chartOptions: {\n        chart: {\n          id: 'line_chart'\n        },\n        xaxis: {\n          categories: []\n        },\n        title: {\n          text: \"Doanh thu (triệu VND)\",\n          align: \"center\",\n          margin: 20,\n          style: {\n            fontSize: \"18px\",\n            fontWeight: \"bold\",\n            color: \"#333\"\n          }\n        }\n      },\n      series: [{\n        name: 'Doanh thu',\n        data: []\n      }]\n    };\n  },\n  methods: {\n    updateChart(data) {\n      const revenueByMonth = new Array(12).fill(0);\n      data.forEach(item => {\n        if (item._id && item.totalRevenue) {\n          revenueByMonth[item._id - 1] = item.totalRevenue / 1000000;\n        }\n      });\n      // Cập nhật dữ liệu và vẽ lại biểu đồ\n      this.chartOptions.xaxis.categories = Array.from({\n        length: 12\n      }, (v, i) => `${i + 1}`);\n      this.series[0].data = revenueByMonth;\n      this.$refs.chart.updateOptions(this.chartOptions);\n      this.$refs.chart.updateSeries(this.series);\n    }\n  },\n  mounted() {\n    this.updateChart(this.data);\n    setInterval(() => {\n      this.updateChart(this.data);\n    }, 300000);\n  }\n};","map":{"version":3,"names":["name","props","data","categories","Array","from","length","v","i","revenueByMonth","fill","map","item","_id","totalRevenue","chartOptions","chart","id","xaxis","title","text","align","margin","style","fontSize","fontWeight","color","series","methods","updateChart","forEach","$refs","updateOptions","updateSeries","mounted","setInterval"],"sources":["src/components/splinechart/SplineChart.vue"],"sourcesContent":["<template>\r\n    <apexChart type=\"line\" height=\"300\"  :options=\"chartOptions\" :series=\"series\"></apexChart>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name:\"SplineChart\",\r\n  props:['data'],\r\n    data: function() {\r\n      const categories = Array.from({ length: 12 }, (v, i) => `${i + 1}`);\r\n      const revenueByMonth = new Array(12).fill(0);\r\n      this.data.map(item => {\r\n      if (item._id && item.totalRevenue) {\r\n        revenueByMonth[item._id - 1] = item.totalRevenue /1000000;\r\n      }\r\n    });\r\n      return {\r\n        chartOptions: {\r\n          chart: {\r\n            id: 'line_chart',\r\n          },\r\n          xaxis: {\r\n            categories: [],\r\n          },\r\n          title: {\r\n          text: \"Doanh thu (triệu VND)\",\r\n          align: \"center\", \r\n          margin: 20, \r\n          style: {\r\n            fontSize: \"18px\", \r\n            fontWeight: \"bold\", \r\n            color: \"#333\", \r\n          },\r\n        },\r\n          \r\n        },\r\n        series: [{\r\n          name: 'Doanh thu',\r\n          data: [],\r\n          \r\n        }],\r\n        \r\n      }\r\n    },\r\n    methods: {\r\n      updateChart(data) {\r\n        const revenueByMonth = new Array(12).fill(0);\r\n        data.forEach(item => {\r\n          if (item._id && item.totalRevenue) {\r\n            revenueByMonth[item._id - 1] = item.totalRevenue / 1000000;\r\n          }\r\n        });\r\n        // Cập nhật dữ liệu và vẽ lại biểu đồ\r\n        this.chartOptions.xaxis.categories = Array.from({ length: 12 }, (v, i) => `${i + 1}`);\r\n        this.series[0].data = revenueByMonth;\r\n        this.$refs.chart.updateOptions(this.chartOptions);\r\n        this.$refs.chart.updateSeries(this.series);\r\n      },\r\n    },\r\n    mounted() {\r\n      this.updateChart(this.data);\r\n\r\n      setInterval(() => {\r\n        this.updateChart(this.data);\r\n      }, 300000); \r\n    },\r\n  }\r\n</script>"],"mappings":"AAKA;EACAA,IAAA;EACAC,KAAA;EACAC,IAAA,WAAAA,CAAA;IACA,MAAAC,UAAA,GAAAC,KAAA,CAAAC,IAAA;MAAAC,MAAA;IAAA,IAAAC,CAAA,EAAAC,CAAA,QAAAA,CAAA;IACA,MAAAC,cAAA,OAAAL,KAAA,KAAAM,IAAA;IACA,KAAAR,IAAA,CAAAS,GAAA,CAAAC,IAAA;MACA,IAAAA,IAAA,CAAAC,GAAA,IAAAD,IAAA,CAAAE,YAAA;QACAL,cAAA,CAAAG,IAAA,CAAAC,GAAA,QAAAD,IAAA,CAAAE,YAAA;MACA;IACA;IACA;MACAC,YAAA;QACAC,KAAA;UACAC,EAAA;QACA;QACAC,KAAA;UACAf,UAAA;QACA;QACAgB,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,MAAA;UACAC,KAAA;YACAC,QAAA;YACAC,UAAA;YACAC,KAAA;UACA;QACA;MAEA;MACAC,MAAA;QACA3B,IAAA;QACAE,IAAA;MAEA;IAEA;EACA;EACA0B,OAAA;IACAC,YAAA3B,IAAA;MACA,MAAAO,cAAA,OAAAL,KAAA,KAAAM,IAAA;MACAR,IAAA,CAAA4B,OAAA,CAAAlB,IAAA;QACA,IAAAA,IAAA,CAAAC,GAAA,IAAAD,IAAA,CAAAE,YAAA;UACAL,cAAA,CAAAG,IAAA,CAAAC,GAAA,QAAAD,IAAA,CAAAE,YAAA;QACA;MACA;MACA;MACA,KAAAC,YAAA,CAAAG,KAAA,CAAAf,UAAA,GAAAC,KAAA,CAAAC,IAAA;QAAAC,MAAA;MAAA,IAAAC,CAAA,EAAAC,CAAA,QAAAA,CAAA;MACA,KAAAmB,MAAA,IAAAzB,IAAA,GAAAO,cAAA;MACA,KAAAsB,KAAA,CAAAf,KAAA,CAAAgB,aAAA,MAAAjB,YAAA;MACA,KAAAgB,KAAA,CAAAf,KAAA,CAAAiB,YAAA,MAAAN,MAAA;IACA;EACA;EACAO,QAAA;IACA,KAAAL,WAAA,MAAA3B,IAAA;IAEAiC,WAAA;MACA,KAAAN,WAAA,MAAA3B,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}