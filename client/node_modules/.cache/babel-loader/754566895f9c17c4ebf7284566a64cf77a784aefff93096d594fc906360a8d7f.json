{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { router } from '../../router/index';\nexport default {\n  name: \"NavBar\",\n  props: ['countCart'],\n  data() {\n    return {\n      searchValue: '',\n      showSuggestions: false,\n      data: [],\n      listSearch: []\n    };\n  },\n  created() {\n    this.getcategory();\n  },\n  methods: {\n    async getcategory() {\n      try {\n        const res = await axios.get('category/getAll');\n        this.data = res.data;\n      } catch (err) {\n        alert(err.response.data);\n      }\n    },\n    async getproduct() {\n      try {\n        const res = await axios.get(`product/search?q=${this.searchValue}`);\n        this.listSearch = res.data;\n      } catch (err) {\n        alert('Loi!');\n      }\n    },\n    async logout() {\n      try {\n        await axios.get('api/logout');\n        this.$store.commit('SET_LOGOUT');\n        if (router.currentRoute.path !== '/') {\n          this.$router.push('/'); // Chuyển hướng về trang '/'\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  },\n  watch: {\n    searchValue(newValue) {\n      this.showSuggestions = newValue !== '';\n      this.getproduct();\n    }\n  }\n};","map":{"version":3,"names":["axios","router","name","props","data","searchValue","showSuggestions","listSearch","created","getcategory","methods","res","get","err","alert","response","getproduct","logout","$store","commit","currentRoute","path","$router","push","console","log","watch","newValue"],"sources":["src/components/navbar/NavBar.vue"],"sourcesContent":["<template>\r\n    <div class=\" w-full bg-[#261511] h-auto\">\r\n        <div class=\"w-full border-b border-white\">\r\n            <div class=\"flex justify-around py-2\">\r\n                <h6 class=\"text-white uppercase\">Tháng bán sofa không lãi suất - ưu đãi tới 4.500.000 Đ</h6>\r\n                <div class=\"h-100\">\r\n                    <ul class=\"flex gap-3 h-100 text-white\">\r\n                        <li><router-link :to='{name:\"home\"}' class=\"hover:text-gray-300\">Trang chủ</router-link></li>\r\n                        <li><router-link :to='{name:\"register\"}' class=\"hover:text-gray-300\">Giới thiệu</router-link></li>\r\n                        <li><router-link :to='{name:\"contact\"}' class=\"hover:text-gray-300\">Liên hệ</router-link></li>\r\n                        <li class=\"relative group\" v-if=\"$store.state.user\"><router-link to='/profile' class=\"hover:text-gray-300 up\">{{ $store.state.user.name }}</router-link>\r\n                            <ul  class=\"absolute group-hover:block hidden w-32 text-black bg-white shadow-md z-10 uppercase font-medium rounded\">\r\n                                <li v-if=\"$store.state.user.admin\" class=\"border-b p-1 text-center\"><router-link :to=\"{name:'adminHome'}\" class=\"block\">Admin</router-link></li>\r\n                                <li class=\"border-b p-1 text-center hover:cursor-pointer\" @click=\"logout\">Logout</li>\r\n                            </ul>\r\n                        </li>\r\n                        <div v-else class=\"flex gap-2\">\r\n                            <li ><router-link :to='{name:\"register\"}' class=\"hover:text-gray-300\">Đăng ký</router-link></li>\r\n                            <li ><router-link :to='{name:\"login\"}' class=\"hover:text-gray-300\">Đăng nhập</router-link></li>\r\n                        </div>  \r\n                        <li><router-link :to='{name:\"cart\"}' class=\"hover:text-gray-300\">Giỏ hàng</router-link></li>\r\n                        <li><router-link to=\"/\" class=\"relative\">\r\n                            <font-awesome-icon icon=\"shopping-cart\" class=\"text-2xl\" />\r\n                            <span class=\"absolute -top-2 -right-3 w-4 h-4 rounded-full bg-yellow-400 flex justify-center items-center\">{{ countCart }}</span>\r\n                        </router-link></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"lg:container grid grid-rows-1 grid-cols-3 items-center py-2\">\r\n                <div class=\"flex justify-center\">\r\n                    <img src=\"https://pos.nvncdn.com/940d71-40111/store/20181231_500uZWWGMYZ6cglXbfR81lgJ.png\" alt=\"\">\r\n                </div>\r\n                <div class=\"flex justify-center w-full\">\r\n                    <div class=\"relative w-full h-10 bg-white rounded-lg\">\r\n                        <input type=\"text\" class=\" w-[90%] h-full outline-none mx-2\" v-model=\"searchValue\">\r\n                        <router-link :to=\"{name:'search',query:{q:searchValue}}\">\r\n                            <font-awesome-icon icon=\"search\" class=\"text-2xl absolute py-2\" />\r\n                        </router-link>\r\n                        <div v-if=\"showSuggestions\" class=\" mt-2 absolute bg-white w-full z-10 shadow-md rounded-sm\">\r\n                            <div class=\"p-1 bg-gray-200 \">Sản phẩm gợi ý</div>\r\n                            <div v-for=\"i in listSearch\" :key=\"i._id\" class=\"p-2 flex border-b\">\r\n                                <div class=\"\"><img :src=\"i.image\" alt=\"\" class=\"w-14 h-10\"></div>\r\n                                <div class=\"flex flex-col mx-3\">\r\n                                    <router-link class=\"text-sm\" :to=\"{name:'productDetail',params:{id:i._id}}\">{{ i.name }}</router-link>\r\n                                    <span>{{ i.price | numeral }}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex justify-center\">\r\n                    <div class=\"w-[40px] h-[40px] border-2 rounded-full flex justify-center items-center border-white\"><font-awesome-icon icon=\"phone\" class=\"text-2xl text-white\" /></div>\r\n                    <div class=\"text-white self-center px-2\">Hotline: <span class=\"uppercase text-2xl font-bold\">19001812</span></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"w-full bg-[#433330] \">\r\n                <div class=\"w-[970px] mx-auto\">\r\n                    <ul class=\"flex gap-10 text-white\">\r\n                        <li v-for=\"item in data\" :key=\"item._id\" class=\"py-2 relative group\">\r\n                            <router-link :to=\"{name:'category',params:{NameCategory: item._id}}\" class=\"block hover:text-orange-400\">{{ item.name }}</router-link>\r\n                            <ul class=\"absolute text-white mt-2 w-44 group-hover:block hidden shadow-md z-10 py-2 bg-[rgba(37,37,37,0.65)] \">\r\n                                <li class=\"border-b py-2 px-3\"><router-link :to='{name:\"\"}' class=\"block\">Sofa gỗ phòng khách</router-link></li>\r\n                                <li class=\"border-b py-2 px-3\"><router-link :to='{name:\"\"}' class=\"block\">Kệ tivi</router-link></li>\r\n                                <li class=\"border-b py-2 px-3\"><router-link :to='{name:\"\"}' class=\"block\">Bàn nước</router-link></li>\r\n                            </ul>\r\n                        </li>\r\n                        <li class=\"py-2\"><router-link :to='{name:\"news\"}' class=\"block hover:text-orange-400\">Tin tức</router-link></li>\r\n                    </ul>   \r\n                </div>\r\n            </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\n\r\nimport { router } from '../../router/index';\r\nexport default ({\r\n    name:\"NavBar\",\r\n    props:['countCart'],\r\n    data() {\r\n    return {\r\n      searchValue: '',\r\n      showSuggestions: false,\r\n      data:[],\r\n      listSearch:[]\r\n    }; \r\n  },\r\n  created(){\r\n    this.getcategory()\r\n  },\r\n  methods:{\r\n    async getcategory(){\r\n            try {\r\n                const res=await axios.get('category/getAll')\r\n                this.data=res.data\r\n            } catch (err) {\r\n                alert(err.response.data)\r\n            }\r\n        },\r\n    async getproduct(){\r\n        try {\r\n            const res=await axios.get(`product/search?q=${this.searchValue}`)\r\n            this.listSearch=res.data\r\n        } catch (err) {\r\n            alert('Loi!')\r\n        }\r\n    },\r\n    async logout(){\r\n            try {\r\n                await axios.get('api/logout')\r\n                this.$store.commit('SET_LOGOUT')\r\n                if (router.currentRoute.path !== '/') {\r\n                        this.$router.push('/'); // Chuyển hướng về trang '/'\r\n                    }\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n  },\r\n  watch: {\r\n    searchValue(newValue) {\r\n      this.showSuggestions = newValue !== '';\r\n      this.getproduct()\r\n    }\r\n  }\r\n})\r\n</script>\r\n<style lang=\"css\" scoped>\r\n\r\n/* Nội dung CSS của bạn */\r\n</style>"],"mappings":";AA2EA,OAAAA,KAAA;AAGA,SAAAC,MAAA;AACA;EACAC,IAAA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,eAAA;MACAF,IAAA;MACAG,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACA,MAAAD,YAAA;MACA;QACA,MAAAE,GAAA,SAAAX,KAAA,CAAAY,GAAA;QACA,KAAAR,IAAA,GAAAO,GAAA,CAAAP,IAAA;MACA,SAAAS,GAAA;QACAC,KAAA,CAAAD,GAAA,CAAAE,QAAA,CAAAX,IAAA;MACA;IACA;IACA,MAAAY,WAAA;MACA;QACA,MAAAL,GAAA,SAAAX,KAAA,CAAAY,GAAA,0BAAAP,WAAA;QACA,KAAAE,UAAA,GAAAI,GAAA,CAAAP,IAAA;MACA,SAAAS,GAAA;QACAC,KAAA;MACA;IACA;IACA,MAAAG,OAAA;MACA;QACA,MAAAjB,KAAA,CAAAY,GAAA;QACA,KAAAM,MAAA,CAAAC,MAAA;QACA,IAAAlB,MAAA,CAAAmB,YAAA,CAAAC,IAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA,SAAAV,GAAA;QACAW,OAAA,CAAAC,GAAA,CAAAZ,GAAA;MACA;IACA;EACA;EACAa,KAAA;IACArB,YAAAsB,QAAA;MACA,KAAArB,eAAA,GAAAqB,QAAA;MACA,KAAAX,UAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}