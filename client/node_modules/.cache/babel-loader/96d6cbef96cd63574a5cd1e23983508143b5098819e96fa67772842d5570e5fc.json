{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"PaymentView\",\n  data() {\n    return {\n      cities: [],\n      districts: [],\n      wards: [],\n      cartData: [],\n      totalAmount: 0,\n      count: 0,\n      shipTotal: 0,\n      shipping: '',\n      payment: '',\n      sumTotal: 0,\n      name: '',\n      email: '',\n      phone: '',\n      address: '',\n      city: '',\n      district: '',\n      ward: '',\n      dexcription: ''\n    };\n  },\n  methods: {\n    async getCities() {\n      try {\n        const response = await fetch(\"https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json\");\n        const data = await response.json();\n        this.cities = data;\n      } catch (err) {\n        console.error(err);\n      }\n    },\n    handleCityChange(e) {\n      const selectedCityName = e.target.value;\n      const selectedCity = this.cities.find(city => city.Name === selectedCityName);\n      if (selectedCity) {\n        this.districts = selectedCity.Districts;\n      }\n    },\n    handleDistrictChange(e) {\n      const selectedDistrictName = e.target.value;\n      const selectedDistrict = this.districts.find(district => district.Name === selectedDistrictName);\n      if (selectedDistrict) {\n        this.wards = selectedDistrict.Wards;\n      }\n    },\n    async getCart() {\n      try {\n        const res = await axios.get('cart/find');\n        this.cartData = res.data.data;\n        this.totalAmount = res.data.totalAmount;\n        this.sumTotal = res.data.totalAmount;\n        this.count = res.data.count;\n      } catch (err) {\n        alert('Loi!');\n      }\n    },\n    updateShipping(event) {\n      this.shipping = event.target.value;\n      if (this.shipping == \"Giao tiêu chuẩn\") {\n        this.shipTotal = 26000;\n        this.sumTotal = this.totalAmount + this.shipTotal;\n      }\n      if (this.shipping == \"Tiết kiệm\") {\n        this.shipTotal = 105000;\n        this.sumTotal = this.totalAmount + this.shipTotal;\n      }\n      if (this.shipping == \"Giao nhanh\") {\n        this.shipTotal = 237000;\n        this.sumTotal = this.totalAmount + this.shipTotal;\n      }\n    },\n    changePayment(event) {\n      this.payment = event.target.value;\n    },\n    async checkout() {}\n  },\n  mounted() {\n    this.getCities(), this.getCart();\n  }\n};","map":{"version":3,"names":["axios","name","data","cities","districts","wards","cartData","totalAmount","count","shipTotal","shipping","payment","sumTotal","email","phone","address","city","district","ward","dexcription","methods","getCities","response","fetch","json","err","console","error","handleCityChange","e","selectedCityName","target","value","selectedCity","find","Name","Districts","handleDistrictChange","selectedDistrictName","selectedDistrict","Wards","getCart","res","get","alert","updateShipping","event","changePayment","checkout","mounted"],"sources":["src/views/PaymentView.vue"],"sourcesContent":["<template>\r\n    <div class=\"max-w-6xl py-2 grid grid-cols-12 gap-4 mx-auto\">\r\n        <div class=\"col-span-9\">\r\n            <div class=\"border rounded-md\">\r\n                <h2 class=\"leading-10 uppercase text-white bg-[#3f4140] px-2 font-bold\">Giỏ hàng ({{ count }})</h2>\r\n                <div v-for=\"item in cartData\" :key=\"item.cartId\" class=\"grid grid-cols-12 gap-3 text-center border-b\">\r\n                    <div class=\" col-span-4 p-4\">\r\n                        <img :src=\"item.product[0].image\" alt=\"\" class=\"\">\r\n                    </div>\r\n                    <div class=\"col-span-4 p-4\">\r\n                        <h1 class=\"font-bold uppercase\">{{ item.product[0].name }}</h1>\r\n                        <p><b class=\"text-gray-500\">Mã sản phẩm : </b><span class=\"text-orange-300\">{{ item.product[0]._id }}</span></p>\r\n                        <p><b class=\"text-gray-500\">Tình trạng : </b><span class=\"text-orange-300\">Còn Hàng</span></p>\r\n                        <button class=\"uppercase border leading-10 px-8 font-bold bg-gray-300 mt-6\">XÓA</button>\r\n                    </div>\r\n                    <div class=\"col-span-4 p-4\">\r\n                        <h1 class=\"uppercase font-bold\">Giá đã giảm:</h1> <br>\r\n                        <span class=\"font-bold text-orange-300\">{{ item.totalAmount| numeral }} ₫</span> <br/>\r\n                        <span><b>Số lượng: </b> {{ item.quantity }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"mt-2\"><router-link to=\"/\" class=\"p-2 border rounded-md w-[20%] text-white bg-orange-300 font-bold\">TIẾP TỤC MUA HÀNG</router-link></div>\r\n            <div class=\"mt-6\">\r\n                <h2 class=\"leading-10 uppercase text-white bg-[#3f4140] px-2 font-bold\">THÔNG TIN KHÁCH HÀNG</h2>\r\n                <div class=\"bg-gray-300 p-3\">\r\n                    <form class=\"bg-white p-3\">\r\n                        <div class=\"grid gap-6 mb-6 md:grid-cols-2\">\r\n                            <div>\r\n                                <label for=\"name\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Họ và tên</label>\r\n                                <input type=\"text\" id=\"name\" name=\"name\" v-model=\"name\"  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Họ và tên\" required />\r\n                            </div>\r\n                            <div>\r\n                                <label for=\"email\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Email</label>\r\n                                <input type=\"email\" id=\"email\" name=\"email\" v-model=\"email\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Email\" required />\r\n                            </div>\r\n                            <div>\r\n                                <label for=\"phone\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Số điện thoại</label>\r\n                                <input type=\"tel\" id=\"phone\" name=\"phone\" v-model=\"phone\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Số điện thoại\" pattern=\"[0][0-9]{9}\" required />\r\n                            </div>\r\n                            <div>\r\n                                <label for=\"address\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Địa chỉ</label>\r\n                                <input type=\"text\" id=\"address\" name=\"address\" v-model=\"address\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Địa chỉ\" required />\r\n                            </div>\r\n                            <div>\r\n                                <label for=\"\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Tỉnh / thành</label>\r\n                                <select name=\"\" id=\"\" @change=\"handleCityChange\" v-model=\"city\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\">\r\n                                    <option selected value=\"\">Chọn tỉnh / thành</option>\r\n                                    <option v-for=\"c in cities\" :key=\"c.Id\" :value=\"c.Name\">{{ c.Name }}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div>\r\n                                <label for=\"\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Quận / huyện</label>\r\n                                <select name=\"\" id=\"\" @change=\"handleDistrictChange\" v-model=\"district\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\">\r\n                                    <option selected value=\"\">Chọn quận / huyện</option>\r\n                                    <option v-for=\"d in districts\" :key=\"d.Id\" :value=\"d.Name\">{{ d.Name }}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div>\r\n                                <label for=\"address\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Phường / xã</label>\r\n                                <select name=\"\" id=\"\" v-model=\"ward\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\">\r\n                                    <option selected value=\"\">Chọn phường / xã</option>\r\n                                    <option v-for=\"w in wards\" :key=\"w.Id\" :value=\"w.Name\">{{ w.Name }}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </form> \r\n                    <div class=\"bg-white p-3\">\r\n                        <h1 class=\"font-bold\">Phương thức thanh toán</h1>\r\n                        <div class=\"mt-1\">\r\n                           <div>\r\n                                <input type=\"radio\" class=\"\" name=\"payment\" @change=\"changePayment\" value=\"Chưa thanh toán\">\r\n                                <span>Thanh toán tại nhà (Quý Khách vui lòng thanh toán hóa đơn khi nhận được hàng. Cảm ơn Quý Khách!)</span>\r\n                           </div>\r\n                           <div>\r\n                                <input type=\"radio\" class=\"\" name=\"payment\" @change=\"changePayment\" value=\"Đã thanh toán\">\r\n                                <span>Thanh toán trực tuyến</span>\r\n                           </div>\r\n                        </div>\r\n                        <div class=\"mt-4 relative overflow-x-auto shadow-md sm:rounded-lg\">\r\n                            <p>Chọn hãng vận chuyển</p>\r\n                            <table class=\"mt-2 w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400\">\r\n                                <thead class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\r\n                                    <tr class=\"text-center\">\r\n                                        <th class=\"px-6 py-3\">Hãng</th>\r\n                                        <th class=\"px-6 py-3\">Cước phí</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td class=\"px-6 py-3\"><img src=\"https://carrier.nvncdn.com/carrier/carr_1692349682_711.png\" alt=\"\"></td>\r\n                                        <td class=\"flex justify-between px-6 py-3\">\r\n                                            <div>\r\n                                                <input type=\"radio\" name=\"shipping\" value=\"Giao tiêu chuẩn\" @change=\"updateShipping\" >\r\n                                                <span class=\"px-1 font-bold\">Giao tiêu chuẩn (7-10 ngày)</span>\r\n                                            </div>\r\n                                            <p>26,000</p>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td class=\"px-6 py-3\"><img src=\"https://carrier.nvncdn.com/carrier/carr_1692349526_269.png\" alt=\"\"></td>\r\n                                        <td class=\"flex justify-between px-6 py-3\">\r\n                                            <div>\r\n                                                <input type=\"radio\" name=\"shipping\" value=\"Tiết kiệm\" @change=\"updateShipping\" >\r\n                                                <span class=\"px-1 font-bold\">Tiết kiệm (4-6 ngày)</span>\r\n                                            </div>\r\n                                            <p>105,000</p>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr class=\"\">\r\n                                        <td class=\"px-6 py-3\"><img src=\"https://carrier.nvncdn.com/carrier/carr_1692349752_369.png\" alt=\"\"></td>\r\n                                        <td class=\"flex justify-between px-6 py-3\">\r\n                                            <div>\r\n                                                <input type=\"radio\" name=\"shipping\" value=\"Giao nhanh\" @change=\"updateShipping\" >\r\n                                                <span class=\"px-1 font-bold\">Giao nhanh (2 - 3 ngày)</span>\r\n                                            </div>\r\n                                            <p>237,600</p>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <textarea name=\"description\" v-model=\"description\" id=\"\" cols=\"\" rows=\"\" class=\"w-full border-2 p-1 mt-5\"  placeholder=\"Ghi chú\"></textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-span-3 text-white bg-[#3f4140] p-3 h-[70vh]\">\r\n            <h2 class=\"leading-10 uppercase font-bold text-xl\">Thanh toán</h2>\r\n            <div class=\"mt-2\">\r\n                <p class=\"font-bold text-sm border-b py-2\">NHẬP MÃ ƯU ĐÃI ( MÃ COUPON, VOUCHER )</p>\r\n                <div class=\"mt-3\">\r\n                    <p>MÃ GIẢM GIÁ</p>\r\n                    <div class=\"flex h-8 gap-2 mt-2\">\r\n                        <input type=\"text\" placeholder=\"Mã giảm giá\" class=\"font-bold px-1 w-32 rounded-md text-black\">\r\n                        <button class=\"font-bold py-1 px-2 bg-orange-300 uppercase rounded-md\">Sử dụng</button>\r\n                    </div>\r\n                </div>\r\n                <table class=\"mt-5 w-full\">\r\n                    <tr class=\"flex justify-between py-2\">\r\n                        <td class=\"font-bold text-sm\">TẠM TÍNH</td>\r\n                        <td class=\"\"><span>{{ totalAmount | numeral }}</span></td>\r\n                    </tr>\r\n                    <tr class=\"flex justify-between py-2\">\r\n                        <td class=\"font-bold text-sm\">PHÍ VẬN CHUYỂN</td>\r\n                        <td class=\"\"><span>{{ shipTotal | numeral }}</span></td>\r\n                    </tr>\r\n                    <tr class=\"flex justify-between py-2\">\r\n                        <td class=\"font-bold text-sm\">THÀNH TIỀN</td>\r\n                        <td class=\"\"><span>{{ sumTotal | numeral }}</span></td>\r\n                    </tr>\r\n                </table>\r\n                <button class=\"w-full py-2 text-center uppercase bg-orange-300\" @click=\"checkout\">Thanh toán</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name:\"PaymentView\",\r\n    data(){\r\n        return{\r\n            cities:[],\r\n            districts:[],\r\n            wards:[],\r\n            cartData:[],\r\n            totalAmount:0,\r\n            count:0,\r\n            shipTotal:0,\r\n            shipping:'',\r\n            payment:'',\r\n            sumTotal:0,\r\n            name:'',\r\n            email:'',\r\n            phone:'',\r\n            address:'',\r\n            city:'',\r\n            district:'',\r\n            ward:'',\r\n            dexcription:''\r\n        }\r\n    },\r\n    methods:{\r\n        async getCities(){\r\n           try {\r\n            const response= await fetch(\"https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json\")\r\n            const data = await response.json();\r\n            this.cities=data\r\n           } catch (err) {\r\n            console.error(err)\r\n           }\r\n        },\r\n        handleCityChange(e){\r\n            const selectedCityName = e.target.value;\r\n            const selectedCity = this.cities.find(city => city.Name === selectedCityName);\r\n            if (selectedCity) {\r\n            this.districts=selectedCity.Districts;\r\n            }\r\n        },\r\n         handleDistrictChange  (e)  {\r\n        const selectedDistrictName = e.target.value;\r\n        const selectedDistrict = this.districts.find(district => district.Name === selectedDistrictName);\r\n        if (selectedDistrict) {\r\n          this.wards=selectedDistrict.Wards;\r\n        }\r\n        },\r\n        async getCart(){\r\n            try {\r\n                const res=await axios.get('cart/find')\r\n                this.cartData=res.data.data\r\n                this.totalAmount = res.data.totalAmount\r\n                this.sumTotal = res.data.totalAmount\r\n                this.count = res.data.count\r\n\r\n            } catch (err) {\r\n                alert('Loi!')\r\n            }\r\n        },\r\n        updateShipping(event){\r\n            this.shipping=event.target.value\r\n            if(this.shipping==\"Giao tiêu chuẩn\"){\r\n                this.shipTotal=26000\r\n                this.sumTotal=this.totalAmount + this.shipTotal\r\n            }\r\n            if(this.shipping==\"Tiết kiệm\"){\r\n                this.shipTotal=105000\r\n                this.sumTotal=this.totalAmount + this.shipTotal\r\n            }\r\n            if(this.shipping==\"Giao nhanh\"){\r\n                this.shipTotal=237000\r\n                this.sumTotal=this.totalAmount + this.shipTotal\r\n            }\r\n        },\r\n        changePayment(event){\r\n            this.payment=event.target.value\r\n        },\r\n        async checkout(){\r\n            \r\n        }\r\n    },\r\n    mounted(){\r\n        this.getCities(),\r\n        this.getCart()\r\n    }\r\n}\r\n</script>\r\n"],"mappings":"AA+JA,OAAAA,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,SAAA;MACAC,KAAA;MACAC,QAAA;MACAC,WAAA;MACAC,KAAA;MACAC,SAAA;MACAC,QAAA;MACAC,OAAA;MACAC,QAAA;MACAX,IAAA;MACAY,KAAA;MACAC,KAAA;MACAC,OAAA;MACAC,IAAA;MACAC,QAAA;MACAC,IAAA;MACAC,WAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,UAAA;MACA;QACA,MAAAC,QAAA,SAAAC,KAAA;QACA,MAAArB,IAAA,SAAAoB,QAAA,CAAAE,IAAA;QACA,KAAArB,MAAA,GAAAD,IAAA;MACA,SAAAuB,GAAA;QACAC,OAAA,CAAAC,KAAA,CAAAF,GAAA;MACA;IACA;IACAG,iBAAAC,CAAA;MACA,MAAAC,gBAAA,GAAAD,CAAA,CAAAE,MAAA,CAAAC,KAAA;MACA,MAAAC,YAAA,QAAA9B,MAAA,CAAA+B,IAAA,CAAAlB,IAAA,IAAAA,IAAA,CAAAmB,IAAA,KAAAL,gBAAA;MACA,IAAAG,YAAA;QACA,KAAA7B,SAAA,GAAA6B,YAAA,CAAAG,SAAA;MACA;IACA;IACAC,qBAAAR,CAAA;MACA,MAAAS,oBAAA,GAAAT,CAAA,CAAAE,MAAA,CAAAC,KAAA;MACA,MAAAO,gBAAA,QAAAnC,SAAA,CAAA8B,IAAA,CAAAjB,QAAA,IAAAA,QAAA,CAAAkB,IAAA,KAAAG,oBAAA;MACA,IAAAC,gBAAA;QACA,KAAAlC,KAAA,GAAAkC,gBAAA,CAAAC,KAAA;MACA;IACA;IACA,MAAAC,QAAA;MACA;QACA,MAAAC,GAAA,SAAA1C,KAAA,CAAA2C,GAAA;QACA,KAAArC,QAAA,GAAAoC,GAAA,CAAAxC,IAAA,CAAAA,IAAA;QACA,KAAAK,WAAA,GAAAmC,GAAA,CAAAxC,IAAA,CAAAK,WAAA;QACA,KAAAK,QAAA,GAAA8B,GAAA,CAAAxC,IAAA,CAAAK,WAAA;QACA,KAAAC,KAAA,GAAAkC,GAAA,CAAAxC,IAAA,CAAAM,KAAA;MAEA,SAAAiB,GAAA;QACAmB,KAAA;MACA;IACA;IACAC,eAAAC,KAAA;MACA,KAAApC,QAAA,GAAAoC,KAAA,CAAAf,MAAA,CAAAC,KAAA;MACA,SAAAtB,QAAA;QACA,KAAAD,SAAA;QACA,KAAAG,QAAA,QAAAL,WAAA,QAAAE,SAAA;MACA;MACA,SAAAC,QAAA;QACA,KAAAD,SAAA;QACA,KAAAG,QAAA,QAAAL,WAAA,QAAAE,SAAA;MACA;MACA,SAAAC,QAAA;QACA,KAAAD,SAAA;QACA,KAAAG,QAAA,QAAAL,WAAA,QAAAE,SAAA;MACA;IACA;IACAsC,cAAAD,KAAA;MACA,KAAAnC,OAAA,GAAAmC,KAAA,CAAAf,MAAA,CAAAC,KAAA;IACA;IACA,MAAAgB,SAAA,GAEA;EACA;EACAC,QAAA;IACA,KAAA5B,SAAA,IACA,KAAAoB,OAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}