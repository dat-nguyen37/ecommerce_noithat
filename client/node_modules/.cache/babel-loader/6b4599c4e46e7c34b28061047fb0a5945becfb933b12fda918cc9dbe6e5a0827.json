{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"CartItem\",\n  props: ['item', 'getCart'],\n  data() {\n    return {\n      quantity: this.item.quantity,\n      totalAmount: this.item.totalAmount,\n      price: this.item.product[0].price,\n      image: this.item.product[0].image,\n      name: this.item.product[0].name\n    };\n  },\n  methods: {\n    incrementCount() {\n      if (this.quantity < 10) {\n        this.quantity++;\n        this.totalAmount = this.price * this.quantity;\n      }\n    },\n    decrementCount() {\n      if (this.quantity > 1) {\n        this.quantity--;\n        this.totalAmount = this.price * this.quantity;\n      }\n    },\n    async handleDelete(id) {\n      try {\n        await axios.delete(`cart/delete/${id}`);\n        this.getCart();\n        alert(\"delete success\");\n      } catch (err) {\n        alert(\"Loi!\");\n      }\n    },\n    async handleUpdate(id) {\n      try {\n        await axios.delete(`cart/update/${id}`, {\n          image: this.image,\n          name: this.name,\n          quantity: this.quantity,\n          totalAmount: this.totalAmount\n        });\n        this.getCart();\n      } catch (err) {\n        alert(\"Loi!\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","data","quantity","item","totalAmount","price","product","image","methods","incrementCount","decrementCount","handleDelete","id","delete","getCart","alert","err","handleUpdate"],"sources":["src/components/cartItem/CartItem.vue"],"sourcesContent":["<template>\r\n    <tr>\r\n        <td class=\"border border-gray-300 px-4 py-2 w-60\">\r\n            <img :src=\"image\" alt=\"\" class=\"h-40\">\r\n            <div class=\"flex justify-between mt-2 items-center\">\r\n                <h1>{{ name }}</h1>\r\n                <button class=\"border-2 px-1 border-b rounded-lg\" @click=\"handleDelete(item.cartId)\">XÃ³a</button>\r\n            </div>\r\n        </td>\r\n        <td class=\"border border-gray-300 px-4 py-2\">\r\n            <button class=\"border py-2 px-4\" @click=\"decrementCount(item.cartId)\">-</button>\r\n            <input type=\"number\" placeholder=\"1\" min=\"1\" max=\"10\" v-model=\"quantity\" disabled class=\"w-10 border text-center py-2\">\r\n            <button class=\"border py-2 px-4\" @click=\"incrementCount(item.cartId)\">+</button>\r\n        </td>\r\n        <td class=\"border border-gray-300 px-4 py-2\">{{ price | numeral}}</td>\r\n        <td class=\"border border-gray-300 px-4 py-2\">{{ totalAmount | numeral}}</td>\r\n    </tr>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name:\"CartItem\",\r\n    props:['item','getCart'],\r\n    data(){\r\n        return{\r\n            quantity:this.item.quantity,\r\n            totalAmount:this.item.totalAmount,\r\n            price:this.item.product[0].price,\r\n            image:this.item.product[0].image,\r\n            name:this.item.product[0].name\r\n        }\r\n    },\r\n    methods: {\r\n        incrementCount() {\r\n            if (this.quantity < 10) {\r\n                this.quantity++;\r\n                this.totalAmount=this.price * this.quantity\r\n            }\r\n        },\r\n        decrementCount() {\r\n            if (this.quantity > 1) {\r\n                this.quantity--;\r\n                this.totalAmount=this.price * this.quantity\r\n            }\r\n        },\r\n        async handleDelete(id){\r\n            try {\r\n                await axios.delete(`cart/delete/${id}`)\r\n                this.getCart()\r\n                alert(\"delete success\")\r\n            } catch (err) {\r\n                alert(\"Loi!\")\r\n            }\r\n        },\r\n        async handleUpdate(id){\r\n            try {\r\n                await axios.delete(`cart/update/${id}`,{\r\n                    image:this.image,\r\n                    name:this.name,\r\n                    quantity:this.quantity,\r\n                    totalAmount:this.totalAmount\r\n                })\r\n                this.getCart()\r\n            } catch (err) {\r\n                alert(\"Loi!\")\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"AAmBA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,QAAA,OAAAC,IAAA,CAAAD,QAAA;MACAE,WAAA,OAAAD,IAAA,CAAAC,WAAA;MACAC,KAAA,OAAAF,IAAA,CAAAG,OAAA,IAAAD,KAAA;MACAE,KAAA,OAAAJ,IAAA,CAAAG,OAAA,IAAAC,KAAA;MACAR,IAAA,OAAAI,IAAA,CAAAG,OAAA,IAAAP;IACA;EACA;EACAS,OAAA;IACAC,eAAA;MACA,SAAAP,QAAA;QACA,KAAAA,QAAA;QACA,KAAAE,WAAA,QAAAC,KAAA,QAAAH,QAAA;MACA;IACA;IACAQ,eAAA;MACA,SAAAR,QAAA;QACA,KAAAA,QAAA;QACA,KAAAE,WAAA,QAAAC,KAAA,QAAAH,QAAA;MACA;IACA;IACA,MAAAS,aAAAC,EAAA;MACA;QACA,MAAAd,KAAA,CAAAe,MAAA,gBAAAD,EAAA;QACA,KAAAE,OAAA;QACAC,KAAA;MACA,SAAAC,GAAA;QACAD,KAAA;MACA;IACA;IACA,MAAAE,aAAAL,EAAA;MACA;QACA,MAAAd,KAAA,CAAAe,MAAA,gBAAAD,EAAA;UACAL,KAAA,OAAAA,KAAA;UACAR,IAAA,OAAAA,IAAA;UACAG,QAAA,OAAAA,QAAA;UACAE,WAAA,OAAAA;QACA;QACA,KAAAU,OAAA;MACA,SAAAE,GAAA;QACAD,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}